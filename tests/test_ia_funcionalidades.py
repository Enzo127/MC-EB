import unittest
import ia_funcionalidades
import tablero

class test_tablero_black_pieces(unittest.TestCase):
    def test_clasificacion(self):
        juego = tablero.game(True)
        juego.board = [
            ['r', 'r', 'h', 'h', 'b', 'b', 'q', 'q', 'k', 'k', 'b', 'b', 'h', 'h', 'r', 'r'],
            ['r', 'r', 'h', 'h', 'b', 'b', 'q', 'Q', 'k', 'k', 'b', 'b', 'h', 'h', 'r', 'r'],
            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
            ['p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p', 'p'],
            [' ', ' ', ' ', ' ', 'Q', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'Q'],
            [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            [' ', ' ', ' ', ' ', 'q', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            [' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
            ['k', 'k', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', 'k'],
            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
            ['P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P', 'P'],
            ['R', 'R', 'H', 'H', 'B', 'q', 'Q', 'Q', 'K', 'K', 'B', 'B', 'H', 'H', 'R', 'R'],
            ['R', 'R', 'H', 'H', 'B', 'B', 'Q', 'Q', 'K', 'K', 'B', 'B', 'H', 'H', 'R', 'R']]
        
        change=0                                                       
        moves       = juego.get_All_Possible_Moves(change)      
                
        change=1                                                       
        moves_enemy = juego.get_All_Possible_Moves(change)      

        analisis_expected = [   ['-', '-', '-', '-', '-', '-', '?', '?', '?', '-', '-', '-', '-', '-', '-', '-'],
                                ['-', '-', '-', '-', '-', '-', '?', '&&', '?', '-', '-', '-', '-', '-', '-', '-'],
                                ['-', '-', '-', '-', '-', '-', '?', '?', '?', '-', '-', '-', '-', '-', '-', '-'],
                                ['-', '-', '-', '?', '?', '?', '-', '-', '-', '-', '-', '-', '-', '-', '?', '?'],
                                ['#', '#', '#', '#', '&&', '#', '#', '#', '#', '#', '#', '#', '#', '#', '#', '&'],
                                [' ', ' ', '-', '+', '#', '+', '-', ' ', ' ', ' ', ' ', ' ', ' ', ' ', '+', '+'],
                                [' ', ' ', '+', '-', '#', '-', '+', ' ', ' ', ' ', ' ', ' ', ' ', '+', ' ', '+'],
                                ['-', '#', '-', '-', '$', '-', '-', '#', '-', '-', '-', '-', '#', '-', '-', '#'],
                                ['+', ' ', ' ', '-', '-', '-', ' ', ' ', '+', ' ', ' ', '+', ' ', ' ', ' ', '+'],
                                [' ', ' ', '-', ' ', '-', ' ', '-', ' ', ' ', '+', '+', ' ', ' ', ' ', ' ', '+'],
                                ['-', '-', '-', ' ', '-', ' ', ' ', '-', ' ', '+', '+', ' ', ' ', ' ', '-', '#'],
                                ['?', '?', '#', '+', '#', '+', '+', '+', '#', '+', '+', '+', '+', '+', '#', '$$'],
                                ['&&', '&&', '&', ' ', '&', ' ', ' ', ' ', ' ', '&', ' ', ' ', ' ', ' ', '&', '&'],
                                [' ', ' ', ' ', ' ', '&', '&', '&', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
                                [' ', ' ', ' ', ' ', '&', '$$', '&', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' '],
                                [' ', ' ', ' ', ' ', '&', '&', '&', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ', ' ']]

        

        resultado = ia_funcionalidades.analizador_casilleros(moves,moves_enemy,True) 

        self.assertEqual(analisis_expected, resultado)